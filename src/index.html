<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Newcity - Compare Travel Insurance</title>
  <meta name="description" content="Compare travel insurance policies from top providers and find the best coverage for your trip">
  <link rel="stylesheet" href="styles.css">
  <!-- Google Fonts - Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Litepicker for date range selection -->
  <script src="https://cdn.jsdelivr.net/npm/litepicker@2.0.12/dist/litepicker.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/litepicker@2.0.12/dist/plugins/mobilefriendly.js"></script>
  <!-- TomSelect for multi-select dropdown -->
  <link href="https://cdn.jsdelivr.net/npm/tom-select@2.2.2/dist/css/tom-select.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/tom-select@2.2.2/dist/js/tom-select.complete.min.js"></script>
</head>
<body>
  <div class="page-container">
    <!-- Header -->
    <header class="header">
      <div class="container">
        <div class="header-content">
          <div class="logo">
            <a href="/">
              <h1>Newcity</h1>
            </a>
          </div>
          <nav class="main-nav">
            <ul>
              <li><a href="#" class="active">Travel Insurance</a></li>
              <li><a href="#">Claims</a></li>
              <li><a href="#">Help Center</a></li>
            </ul>
          </nav>
          <div class="header-right">
            <div class="contact-info">
              <i class="fas fa-phone"></i>
              <span>800-555-1234</span>
            </div>
            <div class="account-links">
              <a href="#" class="btn btn-outline">Log In</a>
              <a href="#" class="btn btn-primary">Sign Up</a>
            </div>
          </div>
          <button class="mobile-menu-toggle">
            <i class="fas fa-bars"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <main>
      <!-- Hero Section -->
      <section class="hero-section">
        <div class="container">
          <div class="hero-content">
            <div class="hero-text">
              <h1>Compare Travel Insurance</h1>
              <p>Search, compare, and purchase travel insurance from the top providers - all in one place.</p>
              <div class="hero-stats">
                <div class="stat">
                  <strong>40+</strong>
                  <span>Insurance Providers</span>
                </div>
                <div class="stat">
                  <strong>4.8/5</strong>
                  <span>Customer Rating</span>
                </div>
                <div class="stat">
                  <strong>12M+</strong>
                  <span>Travelers Protected</span>
                </div>
              </div>
            </div>
            <div class="quote-card">
              <div class="card-header">
                <h2>Get a Quote</h2>
              </div>
              <div class="card-body">
                <!-- Tabs for multi-step form -->
                <div class="quote-tabs">
                  <ul>
                    <li class="tab active" data-tab="trip"><span class="tab-number">1</span><span class="tab-text">Trip Details</span></li>
                    <li class="tab" data-tab="travelers"><span class="tab-number">2</span><span class="tab-text">Travelers</span></li>
                    <li class="tab" data-tab="contact"><span class="tab-number">3</span><span class="tab-text">Contact</span></li>
                  </ul>
                </div>
                
                <form class="quote-form" id="quote-form">
                  <!-- Step 1: Trip Details (visible initially) -->
                  <div class="tab-content active" id="trip">
                    <div class="tab-title">Tell us about your trip</div>
                    
                    <div class="form-row">
                      <div class="form-group full-width">
                        <label for="trip-destinations">Travelling from Uganda to?</label>
                        <select id="trip-destinations" multiple="multiple" required>
                          <option value="europe">Europe</option>
                          <option value="asia">Asia</option>
                          <option value="usa">United States</option>
                          <option value="canada">Canada</option>
                          <option value="middle-east">Middle East</option>
                          <option value="southamerica">South America</option>
                          <option value="africa">Africa</option>
                          <option value="oceania">Australia & Oceania</option>
                          <option value="caribbean">Caribbean</option>
                          <option value="arctic">Arctic/Antarctica</option>
                          <option value="worldwide">Worldwide</option>
                        </select>
                      </div>
                    </div>
                    
                    <div class="form-row">
                      <div class="form-group full-width">
                        <label for="trip-dates">Travel Dates</label>
                        <input type="text" id="trip-dates" placeholder="DD.MM.YYYY - DD.MM.YYYY" required>
                        <div id="trip-duration" class="trip-duration-display"></div>
                      </div>
                    </div>
                    
                    <div class="form-row" id="trip-type-container" style="display: none;">
                      <div class="form-group full-width">
                        <label for="trip-type">Trip Type</label>
                        <select id="trip-type" required>
                          <option value="single">Single Trip</option>
                          <option value="multi">Annual Multi-Trip</option>
                        </select>
                        <div class="helper-text">For trips longer than 180 days, please specify trip type</div>
                      </div>
                    </div>
                    
                    <div class="form-actions">
                      <button type="button" class="btn btn-primary btn-block next-tab" data-next="travelers">Continue to Travelers</button>
                    </div>
                  </div>
                  
                  <!-- Step 2: Travelers Information -->
                  <div class="tab-content" id="travelers">
                    <div class="tab-title">Tell us about your travelers</div>
                    
                    <div class="form-row">
                      <div class="form-group">
                        <label for="travelers-count">Number of Travelers</label>
                        <input type="number" id="travelers-count" min="1" value="1" required>
                        <div class="helper-text">Enter number of travelers (1 or more)</div>
                      </div>
                    </div>
                    
                    <div id="travelers-list"></div>
                    
                    <!-- Template for traveler row (hidden, used by JavaScript) -->
                    <template id="traveler-row-template">
                      <div class="travelers-row">
                        <div class="traveler-details">
                          <div class="traveler-title">Traveler 1</div>
                          <div class="form-row">
                            <div class="form-group">
                              <label for="traveler-1-age">Age</label>
                              <input type="number" id="traveler-1-age" min="0" max="90" value="30" required>
                              <div class="helper-text">Enter age (0-90)</div>
                            </div>
                          </div>
                        </div>
                        <div class="traveler-details">
                          <div class="traveler-title">Traveler 2</div>
                          <div class="form-row">
                            <div class="form-group">
                              <label for="traveler-2-age">Age</label>
                              <input type="number" id="traveler-2-age" min="0" max="90" value="30" required>
                              <div class="helper-text">Enter age (0-90)</div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </template>
                    
                    <div class="form-actions">
                      <button type="button" class="btn btn-outline prev-tab" data-prev="trip">Previous</button>
                      <button type="button" class="btn btn-primary next-tab" data-next="contact">Continue to Contact</button>
                    </div>
                  </div>
                  
                  <!-- Step 3: Coverage Options -->
                  <div class="tab-content" id="contact">
                    <div class="tab-title">Contact Information</div>
                    
                    <div class="form-row">
                      <div class="form-group full-width">
                        <label for="whatsapp-contact">WhatsApp Contact (Optional)</label>
                        <input type="tel" id="whatsapp-contact" placeholder="WhatsApp number">
                        <div class="helper-text">Receive quotes and updates via WhatsApp</div>
                      </div>
                    </div>
                    
                    <div class="form-actions">
                      <button type="button" class="btn btn-outline prev-tab" data-prev="travelers">Previous</button>
                      <button type="submit" class="btn btn-primary btn-block">Search Policies</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Features Section -->
      <section class="features-section">
        <div class="container">
          <div class="section-heading">
            <h2>Why Choose Newcity?</h2>
            <p>Finding the right travel insurance has never been easier</p>
          </div>
          <div class="features-grid">
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fas fa-search"></i>
              </div>
              <h3>Compare & Save</h3>
              <p>Compare top-rated travel insurance policies to find the right coverage at the best price.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fas fa-shield-alt"></i>
              </div>
              <h3>Comprehensive Coverage</h3>
              <p>Get coverage for trip cancellation, medical emergencies, lost baggage, and more.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fas fa-star"></i>
              </div>
              <h3>Trusted Reviews</h3>
              <p>Read verified customer reviews to help you make an informed decision.</p>
            </div>
            <div class="feature-card">
              <div class="feature-icon">
                <i class="fas fa-headset"></i>
              </div>
              <h3>24/7 Support</h3>
              <p>Our dedicated support team is available around the clock to assist you.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Testimonials Section -->
      <section class="testimonials-section">
        <div class="container">
          <div class="section-heading">
            <h2>What Our Customers Say</h2>
            <p>Join thousands of satisfied travelers who found their perfect travel insurance policy</p>
          </div>
          <div class="testimonials-grid">
            <div class="testimonial-card">
              <div class="testimonial-rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
              </div>
              <p class="testimonial-text">"Made finding travel insurance so easy! The comparison tool saved me both time and money. Highly recommend."</p>
              <div class="testimonial-author">
                <span class="author-name">Sarah J.</span>
                <span class="author-trip">Trip to Spain</span>
              </div>
            </div>
            <div class="testimonial-card">
              <div class="testimonial-rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
              </div>
              <p class="testimonial-text">"Had to file a claim when my flight was cancelled. The process was smooth and the customer service was exceptional."</p>
              <div class="testimonial-author">
                <span class="author-name">Michael T.</span>
                <span class="author-trip">Trip to Thailand</span>
              </div>
            </div>
            <div class="testimonial-card">
              <div class="testimonial-rating">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star-half-alt"></i>
              </div>
              <p class="testimonial-text">"As a senior traveler with pre-existing conditions, I was able to find affordable coverage that met all my needs."</p>
              <div class="testimonial-author">
                <span class="author-name">David M.</span>
                <span class="author-trip">Trip to Italy</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Partners Section -->
      <section class="partners-section">
        <div class="container">
          <div class="section-heading">
            <h2>Our Insurance Partners</h2>
            <p>We work with the most trusted names in travel insurance</p>
          </div>
          <div class="partners-grid">
            <div class="partner-logo">
              <img src="https://via.placeholder.com/150x75?text=Insurance+A" alt="Insurance Partner A">
            </div>
            <div class="partner-logo">
              <img src="https://via.placeholder.com/150x75?text=Insurance+B" alt="Insurance Partner B">
            </div>
            <div class="partner-logo">
              <img src="https://via.placeholder.com/150x75?text=Insurance+C" alt="Insurance Partner C">
            </div>
            <div class="partner-logo">
              <img src="https://via.placeholder.com/150x75?text=Insurance+D" alt="Insurance Partner D">
            </div>
            <div class="partner-logo">
              <img src="https://via.placeholder.com/150x75?text=Insurance+E" alt="Insurance Partner E">
            </div>
            <div class="partner-logo">
              <img src="https://via.placeholder.com/150x75?text=Insurance+F" alt="Insurance Partner F">
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Section -->
      <section class="cta-section">
        <div class="container">
          <div class="cta-content">
            <h2>Ready to find your perfect travel insurance?</h2>
            <p>Compare policies from 40+ providers and get covered in minutes</p>
            <a href="#" class="btn btn-primary btn-large">Get a Quote Now</a>
          </div>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-column">
            <div class="footer-logo">
              <h2>Newcity</h2>
            </div>
            <p>Compare and buy travel insurance online with confidence.</p>
            <div class="social-links">
              <a href="#"><i class="fab fa-facebook-f"></i></a>
              <a href="#"><i class="fab fa-twitter"></i></a>
              <a href="#"><i class="fab fa-instagram"></i></a>
              <a href="#"><i class="fab fa-linkedin-in"></i></a>
            </div>
          </div>
          <div class="footer-column">
            <h3>Insurance</h3>
            <ul>
              <li><a href="#">Travel Insurance</a></li>
              <li><a href="#">Trip Cancellation</a></li>
              <li><a href="#">Medical Coverage</a></li>
              <li><a href="#">Annual Multi-Trip</a></li>
              <li><a href="#">Adventure Travel</a></li>
            </ul>
          </div>
          <div class="footer-column">
            <h3>Company</h3>
            <ul>
              <li><a href="#">About Us</a></li>
              <li><a href="#">How It Works</a></li>
              <li><a href="#">Reviews</a></li>
              <li><a href="#">Blog</a></li>
              <li><a href="#">Careers</a></li>
            </ul>
          </div>
          <div class="footer-column">
            <h3>Support</h3>
            <ul>
              <li><a href="#">Help Center</a></li>
              <li><a href="#">File a Claim</a></li>
              <li><a href="#">Contact Us</a></li>
              <li><a href="#">FAQ</a></li>
              <li><a href="#">Terms of Service</a></li>
              <li><a href="#">Privacy Policy</a></li>
            </ul>
          </div>
        </div>
        <div class="footer-bottom">
          <p>&copy; 2025 Newcity. All rights reserved.</p>
          <p>Licensed insurance agency. Prices, coverage, and terms may vary.</p>
        </div>
      </div>
    </footer>
  </div>

  <script>
    // Simple mobile menu toggle
    document.querySelector('.mobile-menu-toggle').addEventListener('click', function() {
      document.querySelector('.main-nav').classList.toggle('show');
    });

    // Quote form tab functionality
    document.addEventListener('DOMContentLoaded', function() {
      // Tab click handling
      const tabs = document.querySelectorAll('.quote-tabs .tab');
      tabs.forEach(tab => {
        tab.addEventListener('click', function() {
          const tabId = this.getAttribute('data-tab');
          showTab(tabId);
        });
      });

      // Next button handling
      const nextButtons = document.querySelectorAll('.next-tab');
      nextButtons.forEach(button => {
        button.addEventListener('click', function() {
          const nextTabId = this.getAttribute('data-next');
          showTab(nextTabId);
        });
      });

      // Previous button handling
      const prevButtons = document.querySelectorAll('.prev-tab');
      prevButtons.forEach(button => {
        button.addEventListener('click', function() {
          const prevTabId = this.getAttribute('data-prev');
          showTab(prevTabId);
        });
      });

      // Function to show tab
      function showTab(tabId) {
        // Hide all tab contents
        document.querySelectorAll('.tab-content').forEach(content => {
          content.classList.remove('active');
        });

        // Deactivate all tabs
        document.querySelectorAll('.quote-tabs .tab').forEach(tab => {
          tab.classList.remove('active');
        });

        // Show the selected tab content
        document.getElementById(tabId).classList.add('active');

        // Activate the tab button
        document.querySelector(`.tab[data-tab="${tabId}"]`).classList.add('active');

        // Scroll to top of form
        document.querySelector('.quote-card').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }

      // Travelers count handling to show/hide additional traveler sections
      const travelersCount = document.getElementById('travelers-count');
      if (travelersCount) {
        // Initialize with default value
        updateTravelerSections(parseInt(travelersCount.value, 10));
        
        // Update when changed
        travelersCount.addEventListener('change', function() {
          // Ensure value is at least 1
          const count = Math.max(1, parseInt(this.value, 10) || 1);
          this.value = count;
          updateTravelerSections(count);
        });
        
        // Also update on input for real-time changes
        travelersCount.addEventListener('input', function() {
          // Ensure value is at least 1
          const count = Math.max(1, parseInt(this.value, 10) || 1);
          this.value = count;
          updateTravelerSections(count);
        });
      }

      function updateTravelerSections(count) {
        // Get the travelers list container
        const travelersList = document.getElementById('travelers-list');
        const template = document.getElementById('traveler-row-template');
        
        // Clear the list
        travelersList.innerHTML = '';
        
        // Calculate how many rows we need (2 travelers per row)
        const rowCount = Math.ceil(count / 2);
        
        // Add the appropriate number of traveler rows
        for (let rowIndex = 0; rowIndex < rowCount; rowIndex++) {
          const rowStart = rowIndex * 2 + 1; // 1, 3, 5, ...
          
          // Clone the template row
          const newRow = template.content.cloneNode(true);
          const rowDiv = newRow.querySelector('.travelers-row');
          const travelerDivs = rowDiv.querySelectorAll('.traveler-details');
          
          // Update first traveler in the row
          const traveler1 = travelerDivs[0];
          traveler1.querySelector('.traveler-title').textContent = `Traveler ${rowStart}`;
          
          // Update form element IDs for the first traveler
          const inputs1 = traveler1.querySelectorAll('input, select');
          inputs1.forEach(input => {
            const originalId = input.id;
            const newId = originalId.replace(/\d+/, rowStart);
            input.id = newId;
            
            // Update associated labels
            const label = traveler1.querySelector(`label[for="${originalId}"]`);
            if (label) {
              label.setAttribute('for', newId);
            }
          });
          
          // Handle second traveler in the row
          const traveler2 = travelerDivs[1];
          if (rowStart + 1 <= count) {
            // We have a second traveler for this row
            traveler2.querySelector('.traveler-title').textContent = `Traveler ${rowStart + 1}`;
            
            // Update form element IDs for the second traveler
            const inputs2 = traveler2.querySelectorAll('input, select');
            inputs2.forEach(input => {
              const originalId = input.id;
              const newId = originalId.replace(/\d+/, rowStart + 1);
              input.id = newId;
              
              // Update associated labels
              const label = traveler2.querySelector(`label[for="${originalId}"]`);
              if (label) {
                label.setAttribute('for', newId);
              }
            });
          } else {
            // If we have an odd number of travelers, hide the second traveler div
            traveler2.style.display = 'none';
          }
          
          travelersList.appendChild(newRow);
        }
      }

      // Initialize TomSelect for destinations dropdown
      const destinationsElement = document.getElementById('trip-destinations');
      if (destinationsElement) {
        new TomSelect(destinationsElement, {
          plugins: ['remove_button'],
          placeholder: 'Select destinations',
          allowEmptyOption: false
        });
      }

      // Initialize Litepicker for date range selection
      const tripDatesElement = document.getElementById('trip-dates');
      const tripTypeContainer = document.getElementById('trip-type-container');
      
      if (tripDatesElement) {
        const picker = new Litepicker({
          element: tripDatesElement,
          format: 'DD.MM.YYYY',
          separator: ' - ',
          singleMode: false,
          numberOfMonths: 2,
          numberOfColumns: 2,
          minDate: new Date(),
          maxDays: 366,
          selectForward: true,
          autoApply: true,
          showTooltip: true,
          tooltipText: {
            one: 'day',
            other: 'days'
          },
          plugins: ['mobilefriendly']
        });
        
        // Update trip duration on date selection and show/hide trip type field
        picker.on('selected', (date1, date2) => {
          if (date1 && date2) {
            const days = Math.ceil((date2.getTime() - date1.getTime()) / (1000 * 60 * 60 * 24)) + 1;
            document.getElementById('trip-duration').textContent = `Trip duration: ${days} days`;
            
            // Show trip type selector if trip is longer than 180 days
            if (days > 180) {
              tripTypeContainer.style.display = 'flex';
              document.getElementById('trip-type').setAttribute('required', 'required');
            } else {
              tripTypeContainer.style.display = 'none';
              document.getElementById('trip-type').removeAttribute('required');
            }
          }
        });
      }
      
      // Form submission handling
      document.getElementById('quote-form').addEventListener('submit', function(e) {
        e.preventDefault();
        alert('Thank you for your submission! In a real application, this would take you to a page comparing insurance policies.');
      });

      // Info tooltips
      const tooltips = document.querySelectorAll('.info-tooltip');
      tooltips.forEach(tooltip => {
        tooltip.addEventListener('mouseover', function() {
          const title = this.getAttribute('title');
          this.setAttribute('data-original-title', title);
          this.removeAttribute('title');
          
          // Create tooltip element
          const tooltipEl = document.createElement('div');
          tooltipEl.className = 'tooltip-bubble';
          tooltipEl.textContent = title;
          document.body.appendChild(tooltipEl);
          
          // Position tooltip
          const rect = this.getBoundingClientRect();
          tooltipEl.style.top = `${rect.top - tooltipEl.offsetHeight - 10 + window.scrollY}px`;
          tooltipEl.style.left = `${rect.left + (rect.width / 2) - (tooltipEl.offsetWidth / 2)}px`;
          tooltipEl.style.opacity = '1';
          
          this._tooltipEl = tooltipEl;
        });
        
        tooltip.addEventListener('mouseout', function() {
          // Restore title attribute
          if (this.getAttribute('data-original-title')) {
            this.setAttribute('title', this.getAttribute('data-original-title'));
            this.removeAttribute('data-original-title');
          }
          
          // Remove tooltip element
          if (this._tooltipEl) {
            document.body.removeChild(this._tooltipEl);
            this._tooltipEl = null;
          }
        });
      });
    });
  </script>
</body>
</html>
